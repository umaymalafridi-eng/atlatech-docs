---
title: Infrastructure Réseau
sidebar_label:  Réseau
sidebar_position: 9
---

# Infrastructure Réseau

## Vue d'ensemble

Analyse de la surface d'attaque réseau de l'infrastructure AtlasTech.

**Réseau:** 192.168.112.0/24  
**Gateway:** 192.168.112.2  
**MainServer:** 192.168.112.141

---

## 7.7.1 Scan Nmap complet

### Machine: Kali Linux (192.168.112.128)
### Tool: Nmap 7.95

```bash
nmap -sV -sC -p- 192.168.112.141 --min-rate 1000
```

**Résultat:**

```
PORT     STATE  SERVICE     VERSION
22/tcp   open   ssh         OpenSSH 9.6p1 Ubuntu
80/tcp   open   http        Apache httpd 2.4.58 ((Ubuntu))
443/tcp  closed https
513/tcp  open   login       
514/tcp  open   shell       
873/tcp  closed rsync
3306/tcp closed mysql
```

**Analyse:**

| Port | Service | État | Risque |
|------|---------|------|--------|
| 22 | SSH | OPEN | MOYEN - Auth par mot de passe |
| 80 | HTTP | OPEN | **CRITIQUE** - Pas de chiffrement |
| 443 | HTTPS | CLOSED | **CRITIQUE** - Pas de SSL |
| 513 | rlogin | OPEN | **CRITIQUE** - Protocole obsolète |
| 514 | rsh | OPEN | **CRITIQUE** - Protocole obsolète |
| 3306 | MySQL | CLOSED | BON - Localhost uniquement |

---

## 7.7.2 Services obsolètes (rlogin/rsh)

### Test rlogin (port 513)

```bash
# Machine: Kali Linux
nc -v 192.168.112.141 513
```

**Résultat:** `Connection succeeded`

**Protocole rlogin:**
- Créé en 1980 (Berkeley Software Distribution)
- Transmission **non chiffrée**
- Authentification par `.rhosts` (faible)
- Remplacé par SSH depuis 1995

### Test rsh (port 514)

```bash
nc -v 192.168.112.141 514
```

**Résultat:** `Connection succeeded`

**Risque:** Interception complète des commandes et credentials.

**Score CVSS: 9.8 (CRITIQUE)**

---

## 7.7.3 Configuration Pare-feu (UFW)

```bash
# Machine: MainServer
sudo ufw status verbose
```

**Résultat:**

```
Status: inactive
```

**CRITIQUE:** Pare-feu désactivé = Aucune protection réseau.

---

## 7.7.4 Ports en écoute (ss)

```bash
sudo ss -tulnp | grep LISTEN
```

**Résultat:**

```
tcp   LISTEN 0  128  0.0.0.0:22      0.0.0.0:*    users:(("sshd"))
tcp   LISTEN 0  80   0.0.0.0:80      0.0.0.0:*    users:(("apache2"))
tcp   LISTEN 0  128  0.0.0.0:513     0.0.0.0:*    users:(("inetd"))
tcp   LISTEN 0  128  0.0.0.0:514     0.0.0.0:*    users:(("inetd"))
tcp   LISTEN 0  80   127.0.0.1:3306  0.0.0.0:*    users:(("mariadbd"))
```

**Analyse:** MySQL écoute sur localhost uniquement (bonne pratique).

---

## 7.7.5 Configuration SSH

```bash
cat /etc/ssh/sshd_config | grep -v "^#" | grep -v "^$"
```

**Extraits critiques:**

```
PasswordAuthentication yes  ⚠️ HAUTE
PermitRootLogin yes         ⚠️ CRITIQUE
```

**Vulnérabilités:**
1. Authentification par mot de passe activée (brute force possible)
2. Connexion root autorisée
3. Pas de fail2ban

---

## 7.7.6 Synthèse Réseau

**Services critiques exposés:**
- HTTP (80) - Non chiffré
- rlogin (513) - Obsolète
- rsh (514) - Obsolète
- SSH (22) - Auth faible

**Protections absentes:**
- Pare-feu UFW désactivé
- Pas de fail2ban
- Pas de HTTPS

**Score global: 9.5/10 (CRITIQUE)**

---