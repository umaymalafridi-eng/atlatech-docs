---
title:  Gestion des mots de passe
sidebar_label:  Mots de passe
sidebar_position: 2
---

# 7.2 Gestion des mots de passe

## Vue d'ensemble

Analyse de la gestion des mots de passe sur l'infrastructure AtlasTech (Linux + MySQL + Windows).

**Périmètre:**
- Mots de passe MySQL (25 employés)
- Hachage système Linux (/etc/shadow)
- Politique Windows 10

---

## 7.2.1 Mots de passe MySQL - Stockage en clair

### Machine: MainServer
### Commande:

```bash
sudo mysql -u root atlastech_db -e "SELECT id, utilisateur, mot_de_passe, LENGTH(mot_de_passe) as longueur FROM employes LIMIT 10;"
```

**Résultat:**

```
+----+-------------+---------------+----------+
| id | utilisateur | mot_de_passe  | longueur |
+----+-------------+---------------+----------+
| 1  | a.haidar    | DG2024!       | 7        |
| 2  | oumayma.l   | Oum1234!      | 8        |
| 3  | ibtissam.g  | Ibti2024      | 8        |
| 4  | soufiane.k  | SoufPass      | 8        |
| 5  | karim.dev   | DevKarim99    | 10       |
| 6  | fatima.z    | FatimaZahra   | 11       |
| 7  | younes.m    | YounesDev     | 9        |
| 8  | salma.r     | Salma123      | 8        |
| 9  | omar.f      | OmarDev       | 7        |
| 10 | nadia.b     | NadiaDev      | 8        |
+----+-------------+---------------+----------+
```

**CRITIQUE:** Tous les mots de passe sont stockés **en clair** (plaintext).

---

## 7.2.2 Statistiques des mots de passe

```sql
SELECT 
    MIN(LENGTH(mot_de_passe)) as min_length,
    MAX(LENGTH(mot_de_passe)) as max_length,
    AVG(LENGTH(mot_de_passe)) as avg_length,
    COUNT(DISTINCT mot_de_passe) as unique_passwords,
    COUNT(*) as total_users
FROM employes;
```

**Résultat:**

```
+------------+------------+------------+------------------+-------------+
| min_length | max_length | avg_length | unique_passwords | total_users |
+------------+------------+------------+------------------+-------------+
| 7          | 11         | 8.5        | 25               | 25          |
+------------+------------+------------+------------------+-------------+
```

**Analyse:**
- Longueur minimale: **7 caractères** (insuffisant, recommandé ≥12)
- Tous uniques (bonne pratique)
- Aucun hachage (bcrypt, Argon2, etc.)

---

## 7.2.3 Patterns de mots de passe

**Analyse manuelle des 25 mots de passe:**

| Pattern | Exemple | Nombre | Risque |
|---------|---------|--------|--------|
| Prénom+Chiffres | `Oum1234!` | 8 | ÉLEVÉ - Prévisible |
| Prénom+Année | `Ibti2024` | 5 | ÉLEVÉ - Prévisible |
| Rôle+Mot | `DevKarim99` | 6 | MOYEN |
| Abréviation+Symbole | `DG2024!` | 3 | MOYEN |
| Mot simple | `SoufPass` | 3 | ÉLEVÉ |

**Vulnérabilité:** Avec les noms des employés (disponibles publiquement), un attaquant peut générer une wordlist ciblée et réussir en quelques secondes.

---

## 7.2.4 Hachage système Linux (/etc/shadow)

### Commande:

```bash
sudo cat /etc/shadow | head -5
```

**Résultat (échantillon):**

```
root:$y$j9T$xyz...:19741:0:99999:7:::
atlastechadmin:$y$j9T$abc...:19741:0:99999:7:::
```

**Format:** `$y$` = **yescrypt** (algorithme moderne, sécurisé)

**Bonne pratique identifiée:** Linux utilise un hachage fort (yescrypt).

**Contraste avec MySQL:** MySQL = plaintext, Linux = yescrypt hashé.

---

## 7.2.5 Politique Windows 10

### Commande PowerShell:

```powershell
net accounts
```

**Résultat:**

```
Longueur minimale du mot de passe:  0
Historique des mots de passe:       Aucun
Seuil de verrouillage:               Jamais
```

**CRITIQUE:**
- Longueur minimale = **0** (mots de passe vides acceptés)
- Aucun historique
- Aucun verrouillage après échecs

---

## 7.2.6 Recommandations

**Immédiates (24-48h):**
1. **Hacher tous les mots de passe MySQL** avec `password_hash()` PHP (bcrypt)
2. **Forcer longueur ≥12 caractères** (PAM + Windows)
3. **Imposer complexité** (majuscules, minuscules, chiffres, symboles)

**Moyen terme (1-2 semaines):**
1. Rotation obligatoire tous les 90 jours
2. Historique de 5 derniers mots de passe
3. Verrouillage après 5 tentatives échouées

**Score CVSS: 9.1 (CRITIQUE)**

---